<!DOCTYPE html>

<html data-bs-theme="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="https://cgarciagl.github.io/Ragnos/docs/en/avanzado/reportes_automaticos/" rel="canonical"/>
<link href="../../../img/favicon.ico" rel="shortcut icon"/>
<title>Automatic Reports - Ragnos Docs</title>
<link href="../../../css/bootstrap.min.css" rel="stylesheet"/>
<link href="../../../css/fontawesome.min.css" rel="stylesheet"/>
<link href="../../../css/brands.min.css" rel="stylesheet"/>
<link href="../../../css/solid.min.css" rel="stylesheet"/>
<link href="../../../css/v4-font-face.min.css" rel="stylesheet"/>
<link href="../../../css/base.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/panda-syntax-dark.min.css" id="hljs-light" rel="stylesheet"/>
<link disabled="" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" id="hljs-dark" rel="stylesheet"/>
<link href="../../../css/ragnos_style.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JGEDJD0GZP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());

  gtag("config", "G-JGEDJD0GZP");
</script>
</head>
<body>
<div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
<div class="container">
<a class="navbar-brand" href="../../">Ragnos Docs</a>
<!-- Expander button -->
<button aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-bs-target="#navbar-collapse" data-bs-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<!-- Expanded navigation -->
<div class="navbar-collapse collapse" id="navbar-collapse">
<!-- Main navigation -->
<ul class="nav navbar-nav">
<li class="nav-item">
<a class="nav-link" href="../../">Home</a>
</li>
<li class="nav-item dropdown">
<a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button">Fundamentals</a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../../fundamentos/instalacion/">Installation</a>
</li>
<li>
<a class="dropdown-item" href="../../fundamentos/primeros_pasos/">Getting Started</a>
</li>
<li>
<a class="dropdown-item" href="../../fundamentos/demo_database/">Demo Database</a>
</li>
<li>
<a class="dropdown-item" href="../../fundamentos/configuracion/">Configuration</a>
</li>
<li>
<a class="dropdown-item" href="../../fundamentos/plantilla/">CLI Generator</a>
</li>
</ul>
</li>
<li class="nav-item dropdown">
<a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button">Datasets &amp; Models</a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../../datasets/datasets/">Creating Datasets</a>
</li>
<li>
<a class="dropdown-item" href="../../datasets/campos/">Field Reference</a>
</li>
<li>
<a class="dropdown-item" href="../../datasets/guia_RQueryController/">Advanced Queries (RQuery)</a>
</li>
<li>
<a class="dropdown-item" href="../../datasets/maestro-detalle/">Master-Detail</a>
</li>
</ul>
</li>
<li class="nav-item dropdown">
<a aria-current="page" aria-expanded="false" class="nav-link dropdown-toggle active" data-bs-toggle="dropdown" href="#" role="button">Advanced Backend</a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../guia_modo_api/">API Mode</a>
</li>
<li>
<a class="dropdown-item" href="../helpers/">Helpers &amp; Utilities</a>
</li>
<li>
<a class="dropdown-item" href="../hooks/">Hooks &amp; Events</a>
</li>
<li>
<a class="dropdown-item" href="../autenticacion_integrada/">Authentication</a>
</li>
<li>
<a class="dropdown-item" href="../auditlog/">Audit Log</a>
</li>
<li>
<a class="dropdown-item" href="../server_side_events/">Server Side Events</a>
</li>
<li>
<a aria-current="page" class="dropdown-item active" href="./">Automatic Reports</a>
</li>
<li>
<a class="dropdown-item" href="../despliegue/">Deployment</a>
</li>
</ul>
</li>
<li class="nav-item dropdown">
<a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button">Frontend &amp; Reports</a>
<ul class="dropdown-menu">
<li>
<a class="dropdown-item" href="../../frontend/personalizacion_ui/">UI Customization</a>
</li>
<li>
<a class="dropdown-item" href="../../frontend/reportes_simples/">Simple Reports</a>
</li>
<li>
<a class="dropdown-item" href="../../frontend/funciones_javascript/">JavaScript Functions</a>
</li>
</ul>
</li>
<li class="nav-item">
<a class="nav-link" href="https://ragnos.build">üè† Website</a>
</li>
</ul>
<ul class="nav navbar-nav ms-md-auto">
<li class="nav-item">
<a class="nav-link" data-bs-target="#mkdocs_search_modal" data-bs-toggle="modal" href="#">
<i class="fa fa-search"></i> Search
                            </a>
</li>
<li class="nav-item">
<a class="nav-link" href="../server_side_events/" rel="prev">
<i class="fa fa-arrow-left"></i> Previous
                                </a>
</li>
<li class="nav-item">
<a class="nav-link" href="../despliegue/" rel="next">
                                    Next <i class="fa fa-arrow-right"></i>
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://github.com/cgarciagl/ragnos"><i class="fa-brands fa-github"></i> GitHub</a>
</li>
</ul>
</div>
</div>
</div>
<div class="container">
<div class="row">
<div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
<div class="navbar-header">
<button class="navbar-toggler collapsed" data-bs-target="#toc-collapse" data-bs-toggle="collapse" title="Table of Contents" type="button">
<span class="fa fa-angle-down"></span>
</button>
</div>
<div class="navbar-collapse collapse card bg-body-tertiary" id="toc-collapse">
<ul class="nav flex-column">
<li class="nav-item" data-bs-level="1"><a class="nav-link" href="#generador-automatico-de-reportes">üìä Generador Autom√°tico de Reportes</a>
<ul class="nav flex-column">
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#introduccion">Introducci√≥n</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#acceso-desde-la-interfaz-grafica">Acceso desde la Interfaz Gr√°fica</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#mejoras-de-experiencia-de-usuario-ux-premium">Mejoras de Experiencia de Usuario (UX) Premium</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#funcionalidades-avanzadas-de-configuracion">Funcionalidades Avanzadas de Configuraci√≥n</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#caracteristicas-principales">Caracter√≠sticas Principales</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#arquitectura-y-funcionamiento">Arquitectura y Funcionamiento</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#uso-practico-ejemplo-completo">Uso Pr√°ctico: Ejemplo Completo</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#ventajas-del-sistema">Ventajas del Sistema</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#limitaciones-y-consideraciones">Limitaciones y Consideraciones</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#personalizacion-avanzada">Personalizaci√≥n Avanzada</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#integracion-con-el-ecosistema-ragnos">Integraci√≥n con el Ecosistema Ragnos</a>
<ul class="nav flex-column">
</ul>
</li>
<li class="nav-item" data-bs-level="2"><a class="nav-link" href="#conclusion">Conclusi√≥n</a>
<ul class="nav flex-column">
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div></div>
<div class="col-md-9" role="main">
<h1 id="generador-automatico-de-reportes">üìä Generador Autom√°tico de Reportes</h1>
<h2 id="introduccion">Introducci√≥n</h2>
<p>El <strong>Generador Autom√°tico de Reportes</strong> (<code>RDatasetReportGenerator</code>) es una caracter√≠stica poderosa de Ragnos que permite crear reportes complejos y personalizados <strong>sin escribir c√≥digo adicional</strong>.</p>
<p>Esta funcionalidad est√° <strong>integrada autom√°ticamente</strong> en todos los datasets basados en <code>RDatasetController</code>, lo que significa que cualquier cat√°logo que hayas creado ya tiene capacidades de reporter√≠a avanzada disponibles desde el primer momento.</p>
<h2 id="acceso-desde-la-interfaz-grafica">Acceso desde la Interfaz Gr√°fica</h2>
<p>Cada dataset basado en <code>RDatasetController</code> incluye autom√°ticamente un bot√≥n de <strong>"Reporte Avanzado"</strong> (icono de impresora üñ®Ô∏è) en la barra de herramientas de la vista de tabla:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="x">// Ubicado en: app/ThirdParty/Ragnos/Views/rdatasetcontroller/table_view.php</span>
<a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="x">&lt;a href="</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">site_url</span><span class="p">(</span><span class="nv">$clase</span> <span class="o">.</span> <span class="s1">'/genericAdvancedReport'</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">"</span>
<a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="x">    class="toolbtn btn btn-outline-secondary btn-lg bg-white shadow-sm"</span>
<a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="x">    title="</span><span class="cp">&lt;?</span><span class="o">=</span> <span class="nx">lang</span><span class="p">(</span><span class="s1">'Ragnos.Ragnos_advanced_report_tooltip'</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="x">"&gt;</span>
<a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="x">    &lt;i class="bi bi-printer"&gt;&lt;/i&gt;</span>
<a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="x">&lt;/a&gt;</span>
</code></pre></div>
<p>Al hacer clic en este bot√≥n, el usuario accede a una interfaz de configuraci√≥n de reportes donde puede:</p>
<p><strong>Generar reportes</strong> con totales y subtotales autom√°ticos</p>
<h2 id="mejoras-de-experiencia-de-usuario-ux-premium">Mejoras de Experiencia de Usuario (UX) Premium</h2>
<p>El generador ha sido actualizado con una interfaz moderna y eficiente que optimiza el flujo de trabajo:</p>
<h3 id="1-diseno-compacto-y-eficiente">1. Dise√±o Compacto y Eficiente</h3>
<ul>
<li><strong>Layout Optimizado:</strong> Se han reducido los espacios innecesarios (paddings y m√°rgenes) para mostrar m√°s informaci√≥n en menos pantalla, ideal para configuraciones con muchos filtros.</li>
<li><strong>Cabeceras y Pie de P√°gina Pegajosos:</strong> El bot√≥n de "Generar Reporte" y la barra de herramientas de filtros est√°n siempre visibles (sticky), eliminando la necesidad de hacer scroll infinito.</li>
<li><strong>Barra Lateral de Agrupamiento:</strong> En pantallas grandes, la configuraci√≥n de grupos se mantiene fija a la derecha para un acceso r√°pido.</li>
</ul>
<h3 id="2-navegacion-inteligente-y-ajax">2. Navegaci√≥n Inteligente y AJAX</h3>
<ul>
<li><strong>Limpieza de Sesi√≥n sin Recarga:</strong> El bot√≥n "Borrar/Limpiar" ahora funciona mediante AJAX. Esto limpia los filtros instant√°neamente sin recargar la p√°gina, lo que evita "ensuciar" el historial del navegador. Ahora, al presionar el bot√≥n <strong>"Volver atr√°s"</strong> del navegador, regresar√°s a la p√°gina anterior con un solo clic.</li>
<li><strong>Confirmaciones Profesionales:</strong> Se utiliza <strong>SweetAlert2</strong> para confirmaciones cr√≠ticas, ofreciendo una est√©tica mucho m√°s integrada y profesional que los mensajes nativos del navegador.</li>
</ul>
<h3 id="3-feedback-visual-dinamico">3. Feedback Visual Din√°mico</h3>
<ul>
<li><strong>Animaciones de Resaltado:</strong> Al agregar un nuevo filtro, este aparece con una suave animaci√≥n de pulso para indicar d√≥nde se ha a√±adido.</li>
<li><strong>Scroll Autom√°tico:</strong> La pantalla se desplaza suavemente hacia el nuevo filtro seleccionado.</li>
<li><strong>Estados de Carga:</strong> El bot√≥n de generaci√≥n muestra un spinner y se deshabilita durante el procesamiento para evitar env√≠os duplicados.</li>
</ul>
<h2 id="funcionalidades-avanzadas-de-configuracion">Funcionalidades Avanzadas de Configuraci√≥n</h2>
<h3 id="1-auto-agrupamiento-inteligente">1. Auto-Agrupamiento Inteligente</h3>
<p>Cuando se a√±ade un filtro de tipo <strong>B√∫squeda Contextual</strong> (campos con <code>addSearch()</code>), el sistema intenta autom√°ticamente asignar ese campo al primer nivel de agrupamiento disponible. Esto agiliza la creaci√≥n de reportes, ya que normalmente se desea ver los datos agrupados por la entidad que se est√° filtrando.</p>
<h3 id="2-niveles-de-agrupacion-excluyentes">2. Niveles de Agrupaci√≥n Excluyentes</h3>
<p>Para evitar errores en la l√≥gica del reporte, los niveles de agrupaci√≥n (Nivel 1, 2 y 3) son inteligentes: si seleccionas un campo en el Nivel 1, esa opci√≥n se deshabilitar√° autom√°ticamente en los niveles 2 y 3, asegurando una jerarqu√≠a l√≥gica y sin duplicados.</p>
<h2 id="caracteristicas-principales">Caracter√≠sticas Principales</h2>
<h3 id="1-generacion-automatica-de-filtros">1. Generaci√≥n Autom√°tica de Filtros</h3>
<p>El generador analiza <strong>autom√°ticamente</strong> todos los campos definidos en tu dataset mediante <code>addField()</code> y crea los filtros apropiados seg√∫n el tipo de campo:</p>
<h4 id="tipos-de-filtros-detectados-automaticamente">Tipos de Filtros Detectados Autom√°ticamente</h4>
<table>
<thead>
<tr>
<th>Tipo de Campo</th>
<th>Tipo de Filtro Generado</th>
<th>Descripci√≥n</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>date</code> / <code>datetime</code></td>
<td><strong>Rango de Fechas</strong></td>
<td>Permite filtrar desde/hasta una fecha espec√≠fica</td>
</tr>
<tr>
<td><code>money</code> / <code>numeric</code> / <code>decimal</code></td>
<td><strong>Rango Num√©rico</strong></td>
<td>Filtro min/max para valores num√©ricos</td>
</tr>
<tr>
<td><code>dropdown</code> / <code>enum</code></td>
<td><strong>Selector de Opciones</strong></td>
<td>Lista desplegable con las opciones definidas</td>
</tr>
<tr>
<td><code>switch</code> / <code>boolean</code></td>
<td><strong>Selector Booleano</strong></td>
<td>Filtro S√≠/No o Activo/Inactivo</td>
</tr>
<tr>
<td><strong>Campos con <code>addSearch()</code></strong></td>
<td><strong>B√∫squeda Contextual</strong></td>
<td>Permite buscar en el dataset relacionado</td>
</tr>
<tr>
<td>Texto (otros)</td>
<td><strong>Filtro de Texto</strong></td>
<td>B√∫squeda por coincidencia de texto</td>
</tr>
</tbody>
</table>
<h4 id="ejemplo-de-deteccion-automatica">Ejemplo de Detecci√≥n Autom√°tica</h4>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="x">// En tu dataset de Clientes</span>
<a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="x">$this-&gt;addField('customerName', [</span>
<a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="x">    'label' =&gt; 'Nombre del Cliente',</span>
<a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="x">    'rules' =&gt; 'required'</span>
<a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="x">]);</span>
<a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="x">// ‚Üí Se generar√° un filtro de TEXTO</span>
<a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a>
<a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="x">$this-&gt;addField('creditLimit', [</span>
<a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="x">    'label' =&gt; 'L√≠mite de Cr√©dito',</span>
<a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="x">    'rules' =&gt; 'required|money'</span>
<a href="#__codelineno-1-11" id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="x">]);</span>
<a href="#__codelineno-1-12" id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="x">// ‚Üí Se generar√° un filtro de RANGO NUM√âRICO (min/max)</span>
<a href="#__codelineno-1-13" id="__codelineno-1-13" name="__codelineno-1-13"></a>
<a href="#__codelineno-1-14" id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="x">$this-&gt;addField('status', [</span>
<a href="#__codelineno-1-15" id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="x">    'label' =&gt; 'Estado',</span>
<a href="#__codelineno-1-16" id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="x">    'type' =&gt; 'dropdown',</span>
<a href="#__codelineno-1-17" id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="x">    'options' =&gt; [</span>
<a href="#__codelineno-1-18" id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="x">        'active' =&gt; 'Activo',</span>
<a href="#__codelineno-1-19" id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="x">        'inactive' =&gt; 'Inactivo',</span>
<a href="#__codelineno-1-20" id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="x">        'suspended' =&gt; 'Suspendido'</span>
<a href="#__codelineno-1-21" id="__codelineno-1-21" name="__codelineno-1-21"></a><span class="x">    ]</span>
<a href="#__codelineno-1-22" id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="x">]);</span>
<a href="#__codelineno-1-23" id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="x">// ‚Üí Se generar√° un filtro de SELECCI√ìN con las opciones definidas</span>
<a href="#__codelineno-1-24" id="__codelineno-1-24" name="__codelineno-1-24"></a>
<a href="#__codelineno-1-25" id="__codelineno-1-25" name="__codelineno-1-25"></a><span class="x">$this-&gt;addSearch('salesRepEmployeeNumber', 'Tienda\\Empleados');</span>
<a href="#__codelineno-1-26" id="__codelineno-1-26" name="__codelineno-1-26"></a><span class="x">// ‚Üí Se generar√° un filtro de B√öSQUEDA que reutiliza el dataset de Empleados</span>
</code></pre></div>
<h3 id="2-generacion-automatica-de-agrupaciones">2. Generaci√≥n Autom√°tica de Agrupaciones</h3>
<p>Los criterios de agrupaci√≥n tambi√©n se generan autom√°ticamente bas√°ndose en la configuraci√≥n de campos:</p>
<h4 id="tipos-de-agrupacion-detectados">Tipos de Agrupaci√≥n Detectados</h4>
<table>
<thead>
<tr>
<th>Tipo de Campo</th>
<th>Agrupaciones Generadas</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>date</code> / <code>datetime</code></td>
<td>‚Ä¢ <strong>Por Mes</strong> (A√±o-Mes)<br/>‚Ä¢ <strong>Por A√±o</strong></td>
</tr>
<tr>
<td><strong>Campos con <code>addSearch()</code></strong></td>
<td>‚Ä¢ <strong>Por Valor Exacto</strong> del campo relacionado</td>
</tr>
<tr>
<td><code>dropdown</code> / <code>enum</code></td>
<td>‚Ä¢ <strong>Por Valor Exacto</strong> de la opci√≥n seleccionada</td>
</tr>
</tbody>
</table>
<h4 id="ejemplo-de-agrupaciones-automaticas">Ejemplo de Agrupaciones Autom√°ticas</h4>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="x">// Campo de fecha en el dataset de √ìrdenes</span>
<a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="x">$this-&gt;addField('orderDate', [</span>
<a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="x">    'label' =&gt; 'Fecha de Orden',</span>
<a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="x">    'type' =&gt; 'date',</span>
<a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="x">    'rules' =&gt; 'required'</span>
<a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="x">]);</span>
<a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="x">// ‚Üí Genera dos opciones de agrupaci√≥n:</span>
<a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="x">//   1. "Fecha de Orden (Por Mes)"</span>
<a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="x">//   2. "Fecha de Orden (Por A√±o)"</span>
<a href="#__codelineno-2-10" id="__codelineno-2-10" name="__codelineno-2-10"></a>
<a href="#__codelineno-2-11" id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="x">// Campo relacionado en el dataset de Pagos</span>
<a href="#__codelineno-2-12" id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="x">$this-&gt;addSearch('customerNumber', 'Tienda\\Clientes');</span>
<a href="#__codelineno-2-13" id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="x">// ‚Üí Genera agrupaci√≥n:</span>
<a href="#__codelineno-2-14" id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="x">//   "customerNumber (Valor exacto)" - agrupa por cliente</span>
</code></pre></div>
<h3 id="3-agrupacion-multinivel">3. Agrupaci√≥n Multinivel</h3>
<p>El generador soporta <strong>hasta 3 niveles de agrupaci√≥n jer√°rquica</strong>, permitiendo reportes complejos como:</p>
<ul>
<li><strong>Ventas por A√±o ‚Üí Mes ‚Üí Empleado</strong></li>
<li><strong>Pagos por Cliente ‚Üí A√±o ‚Üí M√©todo de Pago</strong></li>
<li><strong>Productos por L√≠nea ‚Üí A√±o ‚Üí Mes</strong></li>
</ul>
<p>Cada nivel de agrupaci√≥n genera autom√°ticamente <strong>subtotales</strong> y el reporte incluye un <strong>total general</strong>.</p>
<h3 id="4-busqueda-contextual-en-filtros">4. B√∫squeda Contextual en Filtros</h3>
<p>Cuando un campo est√° vinculado a otro dataset mediante <code>addSearch()</code>, el filtro del reporte hereda toda la funcionalidad de b√∫squeda contextual:</p>
<p><strong>Ejemplo Pr√°ctico:</strong></p>
<p>En el dataset de <strong>Pagos</strong>, tienes:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="x">$this-&gt;addSearch('customerNumber', 'Tienda\\Clientes');</span>
</code></pre></div>
<p>Y en el dataset de <strong>Clientes</strong>, definiste:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="x">$this-&gt;setTableFields([</span>
<a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="x">    'customerName',</span>
<a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="x">    'Contacto', // Campo calculado</span>
<a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="x">    'salesRepEmployeeNumber' // Empleado a cargo</span>
<a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="x">]);</span>
</code></pre></div>
<p><strong>Resultado en el Generador de Reportes:</strong></p>
<p>Al filtrar pagos por cliente, el usuario puede buscar escribiendo:</p>
<ul>
<li>El nombre de la empresa</li>
<li>El nombre del contacto</li>
<li>El nombre del empleado a cargo</li>
</ul>
<p>¬°El sistema buscar√° autom√°ticamente en todos los campos visibles del dataset de Clientes!</p>
<h2 id="arquitectura-y-funcionamiento">Arquitectura y Funcionamiento</h2>
<h3 id="clase-rdatasetreportgenerator">Clase <code>RDatasetReportGenerator</code></h3>
<p>Esta clase es el motor detr√°s de la generaci√≥n autom√°tica de reportes. Sus responsabilidades incluyen:</p>
<ol>
<li><strong>Introspecci√≥n de Campos</strong> (<code>detectCapabilities()</code>)</li>
<li>Analiza todos los campos del dataset</li>
<li>Identifica tipos de filtros aplicables</li>
<li>Detecta criterios de agrupaci√≥n viables</li>
<li>
<p>Ignora campos no aptos (claves primarias, campos √∫nicos, archivos)</p>
</li>
<li>
<p><strong>Procesamiento de Solicitudes</strong> (<code>processRequest()</code>)</p>
</li>
<li>Lee los filtros y agrupaciones enviados desde el formulario</li>
<li>Valida y normaliza los valores</li>
<li>
<p>Construye las condiciones de consulta</p>
</li>
<li>
<p><strong>Generaci√≥n de Consultas SQL</strong></p>
</li>
<li>Aplica filtros simples (<code>WHERE campo = valor</code>)</li>
<li>Aplica rangos de fechas (<code>WHERE fecha &gt;= inicio AND fecha &lt;= fin</code>)</li>
<li>Aplica rangos num√©ricos (<code>WHERE campo &gt;= min AND campo &lt;= max</code>)</li>
<li>
<p>Maneja correctamente JOINs para campos relacionados</p>
</li>
<li>
<p><strong>Formateo y Agrupaci√≥n</strong> (<code>generateHTML()</code>)</p>
</li>
<li>Ejecuta la consulta con todos los filtros aplicados</li>
<li>Enriquece los datos con claves de agrupaci√≥n formateadas</li>
<li>Ordena jer√°rquicamente por los niveles de agrupaci√≥n</li>
<li>
<p>Delega el formateo de valores al modelo (moneda, fechas, relaciones)</p>
</li>
<li>
<p><strong>Generaci√≥n de Reporte HTML</strong></p>
</li>
<li>Utiliza <code>RSimpleLevelReport</code> para generar HTML estructurado</li>
<li>Incluye totales y subtotales autom√°ticos</li>
<li>Muestra descripci√≥n de filtros aplicados</li>
</ol>
<h3 id="flujo-de-ejecucion">Flujo de Ejecuci√≥n</h3>
<div class="mermaid">graph TD
    A[Usuario hace clic en bot√≥n Reporte] --&gt; B[genericAdvancedReport m√©todo]
    B --&gt; C{¬øEs POST?}
    C --&gt;|No| D[Mostrar formulario de configuraci√≥n]
    C --&gt;|S√≠| E[Procesar filtros y agrupaciones]
    E --&gt; F[Ejecutar consulta SQL con filtros]
    F --&gt; G[Formatear datos y agrupar]
    G --&gt; H[Generar HTML con totales]
    H --&gt; I[Mostrar reporte al usuario]

    D --&gt; J[Usuario configura filtros/grupos]
    J --&gt; K[Usuario env√≠a formulario]
    K --&gt; C
</div>
<h2 id="uso-practico-ejemplo-completo">Uso Pr√°ctico: Ejemplo Completo</h2>
<h3 id="dataset-de-ordenes">Dataset de √ìrdenes</h3>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="x">namespace App\Controllers\Tienda;</span>
<a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a>
<a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="x">use App\ThirdParty\Ragnos\Controllers\RDatasetController;</span>
<a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a>
<a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="x">class Ordenes extends RDatasetController</span>
<a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="x">{</span>
<a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="x">    public function __construct()</span>
<a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="x">    {</span>
<a href="#__codelineno-5-9" id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="x">        parent::__construct();</span>
<a href="#__codelineno-5-10" id="__codelineno-5-10" name="__codelineno-5-10"></a>
<a href="#__codelineno-5-11" id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="x">        $this-&gt;checkLogin();</span>
<a href="#__codelineno-5-12" id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="x">        $this-&gt;setTitle('√ìrdenes de Compra');</span>
<a href="#__codelineno-5-13" id="__codelineno-5-13" name="__codelineno-5-13"></a>
<a href="#__codelineno-5-14" id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="x">        $this-&gt;setTableName('orders');</span>
<a href="#__codelineno-5-15" id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="x">        $this-&gt;setIdField('orderNumber');</span>
<a href="#__codelineno-5-16" id="__codelineno-5-16" name="__codelineno-5-16"></a>
<a href="#__codelineno-5-17" id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="x">        // Campo de fecha ‚Üí generar√° filtro de rango + agrupaci√≥n por mes/a√±o</span>
<a href="#__codelineno-5-18" id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="x">        $this-&gt;addField('orderDate', [</span>
<a href="#__codelineno-5-19" id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="x">            'label' =&gt; 'Fecha de Orden',</span>
<a href="#__codelineno-5-20" id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="x">            'type'  =&gt; 'date',</span>
<a href="#__codelineno-5-21" id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="x">            'rules' =&gt; 'required'</span>
<a href="#__codelineno-5-22" id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="x">        ]);</span>
<a href="#__codelineno-5-23" id="__codelineno-5-23" name="__codelineno-5-23"></a>
<a href="#__codelineno-5-24" id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="x">        // Campo relacionado ‚Üí generar√° filtro de b√∫squeda + agrupaci√≥n por cliente</span>
<a href="#__codelineno-5-25" id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="x">        $this-&gt;addSearch('customerNumber', 'Tienda\\Clientes');</span>
<a href="#__codelineno-5-26" id="__codelineno-5-26" name="__codelineno-5-26"></a>
<a href="#__codelineno-5-27" id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="x">        // Campo enum ‚Üí generar√° filtro de selecci√≥n + agrupaci√≥n por estado</span>
<a href="#__codelineno-5-28" id="__codelineno-5-28" name="__codelineno-5-28"></a><span class="x">        $this-&gt;addField('status', [</span>
<a href="#__codelineno-5-29" id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="x">            'label'   =&gt; 'Estado',</span>
<a href="#__codelineno-5-30" id="__codelineno-5-30" name="__codelineno-5-30"></a><span class="x">            'type'    =&gt; 'dropdown',</span>
<a href="#__codelineno-5-31" id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="x">            'options' =&gt; [</span>
<a href="#__codelineno-5-32" id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="x">                'Shipped'   =&gt; 'Enviado',</span>
<a href="#__codelineno-5-33" id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="x">                'Pending'   =&gt; 'Pendiente',</span>
<a href="#__codelineno-5-34" id="__codelineno-5-34" name="__codelineno-5-34"></a><span class="x">                'Cancelled' =&gt; 'Cancelado'</span>
<a href="#__codelineno-5-35" id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="x">            ],</span>
<a href="#__codelineno-5-36" id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="x">            'rules' =&gt; 'required'</span>
<a href="#__codelineno-5-37" id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="x">        ]);</span>
<a href="#__codelineno-5-38" id="__codelineno-5-38" name="__codelineno-5-38"></a>
<a href="#__codelineno-5-39" id="__codelineno-5-39" name="__codelineno-5-39"></a><span class="x">        // Campo calculado (monto total)</span>
<a href="#__codelineno-5-40" id="__codelineno-5-40" name="__codelineno-5-40"></a><span class="x">        $this-&gt;addField('Total', [</span>
<a href="#__codelineno-5-41" id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="x">            'label' =&gt; 'Total',</span>
<a href="#__codelineno-5-42" id="__codelineno-5-42" name="__codelineno-5-42"></a><span class="x">            'query' =&gt; '(SELECT SUM(quantityOrdered * priceEach)</span>
<a href="#__codelineno-5-43" id="__codelineno-5-43" name="__codelineno-5-43"></a><span class="x">                         FROM orderdetails</span>
<a href="#__codelineno-5-44" id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="x">                         WHERE orderdetails.orderNumber = orders.orderNumber)',</span>
<a href="#__codelineno-5-45" id="__codelineno-5-45" name="__codelineno-5-45"></a><span class="x">            'rules' =&gt; 'readonly|money'</span>
<a href="#__codelineno-5-46" id="__codelineno-5-46" name="__codelineno-5-46"></a><span class="x">        ]);</span>
<a href="#__codelineno-5-47" id="__codelineno-5-47" name="__codelineno-5-47"></a>
<a href="#__codelineno-5-48" id="__codelineno-5-48" name="__codelineno-5-48"></a><span class="x">        $this-&gt;setTableFields([</span>
<a href="#__codelineno-5-49" id="__codelineno-5-49" name="__codelineno-5-49"></a><span class="x">            'orderNumber',</span>
<a href="#__codelineno-5-50" id="__codelineno-5-50" name="__codelineno-5-50"></a><span class="x">            'orderDate',</span>
<a href="#__codelineno-5-51" id="__codelineno-5-51" name="__codelineno-5-51"></a><span class="x">            'customerNumber',</span>
<a href="#__codelineno-5-52" id="__codelineno-5-52" name="__codelineno-5-52"></a><span class="x">            'status',</span>
<a href="#__codelineno-5-53" id="__codelineno-5-53" name="__codelineno-5-53"></a><span class="x">            'Total'</span>
<a href="#__codelineno-5-54" id="__codelineno-5-54" name="__codelineno-5-54"></a><span class="x">        ]);</span>
<a href="#__codelineno-5-55" id="__codelineno-5-55" name="__codelineno-5-55"></a><span class="x">    }</span>
<a href="#__codelineno-5-56" id="__codelineno-5-56" name="__codelineno-5-56"></a><span class="x">}</span>
</code></pre></div>
<h3 id="reportes-generados-automaticamente">Reportes Generados Autom√°ticamente</h3>
<p>Con esta configuraci√≥n, el usuario puede generar reportes como:</p>
<p><strong>Ejemplo 1: Ventas por Cliente en un Rango de Fechas</strong></p>
<ul>
<li><strong>Filtro:</strong> Fecha desde 2024-01-01 hasta 2024-12-31</li>
<li><strong>Agrupaci√≥n:</strong> Por Cliente</li>
<li><strong>Resultado:</strong> Lista de clientes con el total vendido a cada uno en 2024</li>
</ul>
<p><strong>Ejemplo 2: √ìrdenes Canceladas por Mes</strong></p>
<ul>
<li><strong>Filtro:</strong> Estado = "Cancelado"</li>
<li><strong>Agrupaci√≥n Nivel 1:</strong> Por Mes</li>
<li><strong>Resultado:</strong> Total de √≥rdenes canceladas agrupadas por mes con subtotales</li>
</ul>
<p><strong>Ejemplo 3: An√°lisis Jer√°rquico Anual</strong></p>
<ul>
<li><strong>Agrupaci√≥n Nivel 1:</strong> Por A√±o</li>
<li><strong>Agrupaci√≥n Nivel 2:</strong> Por Mes</li>
<li><strong>Agrupaci√≥n Nivel 3:</strong> Por Estado</li>
<li><strong>Resultado:</strong> Reporte jer√°rquico: A√±o ‚Üí Mes ‚Üí Estado con todos sus subtotales</li>
</ul>
<h2 id="ventajas-del-sistema">Ventajas del Sistema</h2>
<h3 id="1-cero-configuracion-adicional">1. <strong>Cero Configuraci√≥n Adicional</strong></h3>
<p>No necesitas escribir controladores especiales, vistas o queries para reportes. Todo se genera autom√°ticamente desde la definici√≥n del dataset.</p>
<h3 id="2-reutilizacion-de-logica">2. <strong>Reutilizaci√≥n de L√≥gica</strong></h3>
<p>Los filtros y agrupaciones reutilizan:</p>
<ul>
<li>Las validaciones definidas en <code>addField()</code></li>
<li>Las relaciones definidas con <code>addSearch()</code></li>
<li>El formateo definido en el modelo</li>
</ul>
<h3 id="3-consistencia-de-interfaz">3. <strong>Consistencia de Interfaz</strong></h3>
<p>Todos los datasets tienen exactamente la misma interfaz de reportes, reduciendo la curva de aprendizaje para los usuarios.</p>
<h3 id="4-flexibilidad-total">4. <strong>Flexibilidad Total</strong></h3>
<p>Los usuarios finales pueden combinar cualquier filtro con cualquier agrupaci√≥n, generando reportes ad-hoc seg√∫n sus necesidades sin requerir desarrollo.</p>
<h3 id="5-escalabilidad">5. <strong>Escalabilidad</strong></h3>
<p>A medida que agregas m√°s campos a tu dataset, autom√°ticamente se ampl√≠an las opciones de filtros y agrupaciones disponibles.</p>
<h2 id="limitaciones-y-consideraciones">Limitaciones y Consideraciones</h2>
<h3 id="campos-excluidos-automaticamente">Campos Excluidos Autom√°ticamente</h3>
<p>El sistema <strong>ignora</strong> autom√°ticamente ciertos tipos de campos para filtros y agrupaciones:</p>
<ul>
<li><strong>Claves primarias</strong>: No suelen ser √∫tiles para filtros generales</li>
<li><strong>Campos con <code>is_unique</code></strong>: Pensados para identificadores √∫nicos</li>
<li><strong>Archivos e im√°genes</strong> (<code>fileupload</code>, <code>imageupload</code>)</li>
<li><strong>Contrase√±as</strong> (<code>password</code>)</li>
</ul>
<h3 id="campos-calculados-y-agrupaciones">Campos Calculados y Agrupaciones</h3>
<p>Los campos con <code>query</code> (calculados) pueden aparecer en el reporte, pero <strong>no se pueden usar como criterio de agrupaci√≥n</strong> ya que son expresiones SQL derivadas.</p>
<h3 id="performance-en-grandes-volumenes">Performance en Grandes Vol√∫menes</h3>
<p>Para datasets con millones de registros, considera:</p>
<ul>
<li>A√±adir √≠ndices en campos frecuentemente filtrados</li>
<li>Limitar las opciones de agrupaci√≥n si son muy costosas</li>
<li>Implementar paginaci√≥n o l√≠mites en la consulta si es necesario</li>
</ul>
<h2 id="personalizacion-avanzada">Personalizaci√≥n Avanzada</h2>
<p>Aunque el generador es autom√°tico, puedes influir en su comportamiento:</p>
<h3 id="controlar-que-campos-son-filtrables">Controlar qu√© Campos son Filtrables</h3>
<p>Al definir campos como <code>hidden</code> o con reglas espec√≠ficas, puedes controlar su aparici√≥n en filtros:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="x">// Este campo NO aparecer√° en filtros (es hidden y calculado)</span>
<a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="x">$this-&gt;addField('internalCode', [</span>
<a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="x">    'label' =&gt; 'C√≥digo Interno',</span>
<a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="x">    'type'  =&gt; 'hidden',</span>
<a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="x">    'query' =&gt; 'MD5(customerNumber)'</span>
<a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="x">]);</span>
</code></pre></div>
<h3 id="metodos-programaticos">M√©todos Program√°ticos</h3>
<p>Tambi√©n puedes usar el generador program√°ticamente desde c√≥digo:</p>
<div class="highlight"><pre><span></span><code><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="x">public function reportePersonalizado()</span>
<a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="x">{</span>
<a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="x">    $generator = new RDatasetReportGenerator($this);</span>
<a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a>
<a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="x">    // Agregar filtros manualmente</span>
<a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="x">    $generator-&gt;addDateRangeFilter('orderDate', '2024-01-01', '2024-12-31');</span>
<a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="x">    $generator-&gt;addFilter('status', 'Shipped');</span>
<a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a>
<a href="#__codelineno-7-9" id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="x">    // Configurar agrupaci√≥n</span>
<a href="#__codelineno-7-10" id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="x">    $generator-&gt;setGrouping('customerNumber', 'raw', 'Cliente');</span>
<a href="#__codelineno-7-11" id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="x">    $generator-&gt;setGrouping('orderDate', 'date_month', 'Mes');</span>
<a href="#__codelineno-7-12" id="__codelineno-7-12" name="__codelineno-7-12"></a>
<a href="#__codelineno-7-13" id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="x">    // Generar HTML</span>
<a href="#__codelineno-7-14" id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="x">    $html = $generator-&gt;generateHTML();</span>
<a href="#__codelineno-7-15" id="__codelineno-7-15" name="__codelineno-7-15"></a>
<a href="#__codelineno-7-16" id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="x">    return view('mi_plantilla_reporte', ['contenido' =&gt; $html]);</span>
<a href="#__codelineno-7-17" id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="x">}</span>
</code></pre></div>
<h2 id="integracion-con-el-ecosistema-ragnos">Integraci√≥n con el Ecosistema Ragnos</h2>
<h3 id="relacion-con-addsearch">Relaci√≥n con <code>addSearch()</code></h3>
<p>Como se mencion√≥ en la <a href="../../datasets/datasets/#relaciones-entre-datasets-addsearch">gu√≠a de Datasets</a>, los campos definidos con <code>addSearch()</code> no solo crean selectores en formularios, sino que tambi√©n:</p>
<ol>
<li><strong>En Filtros de Reportes:</strong> Permiten b√∫squeda contextual avanzada</li>
<li><strong>En Agrupaciones:</strong> Se convierten autom√°ticamente en criterios de agrupaci√≥n</li>
</ol>
<p>Esta sinergia hace que definir relaciones sea doblemente poderoso.</p>
<h3 id="relacion-con-settablefields">Relaci√≥n con <code>setTableFields()</code></h3>
<p>Los campos incluidos en <code>setTableFields()</code> son los que aparecer√°n en el reporte generado. Esto te da control sobre qu√© columnas se muestran sin afectar la disponibilidad de filtros y agrupaciones.</p>
<h2 id="conclusion">Conclusi√≥n</h2>
<p>El <strong>Generador Autom√°tico de Reportes</strong> es una de las caracter√≠sticas m√°s potentes de Ragnos, transformando cada dataset simple en una herramienta de an√°lisis avanzado sin esfuerzo adicional de desarrollo.</p>
<p>Al aprovechar toda la metadata declarativa que defines en tu dataset (<code>addField</code>, <code>addSearch</code>, <code>setTableFields</code>), el sistema construye autom√°ticamente una interfaz completa de reporter√≠a con:</p>
<ul>
<li>‚úÖ Filtros inteligentes seg√∫n tipo de campo</li>
<li>‚úÖ Agrupaciones jer√°rquicas multinivel</li>
<li>‚úÖ B√∫squeda contextual en relaciones</li>
<li>‚úÖ Totales y subtotales autom√°ticos</li>
<li>‚úÖ Interfaz consistente en todos los m√≥dulos</li>
</ul>
<p><strong>Resultado:</strong> Reportes empresariales de calidad profesional, disponibles en minutos, no en semanas.</p></div>
</div>
</div>
<footer class="col-md-12">
<hr/>
<p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
</footer>
<script src="../../../js/bootstrap.bundle.min.js"></script>
<script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
<script src="../../../js/base.js"></script>
<script src="../../../back_particles.js"></script>
<script src="../../../search/main.js"></script>
<div aria-hidden="true" aria-labelledby="searchModalLabel" class="modal" id="mkdocs_search_modal" role="dialog" tabindex="-1">
<div class="modal-dialog modal-lg">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="searchModalLabel">Search</h4>
<button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
</div>
<div class="modal-body">
<p>From here you can search these documents. Enter your search terms below.</p>
<form>
<div class="form-group">
<input class="form-control" id="mkdocs-search-query" placeholder="Search..." title="Type search term here" type="search"/>
</div>
</form>
<div data-no-results-text="No results found" id="mkdocs-search-results"></div>
</div>
<div class="modal-footer">
</div>
</div>
</div>
</div><div aria-hidden="true" aria-labelledby="keyboardModalLabel" class="modal" id="mkdocs_keyboard_modal" role="dialog" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
<button aria-label="Close" class="btn-close" data-bs-dismiss="modal" type="button"></button>
</div>
<div class="modal-body">
<table class="table">
<thead>
<tr>
<th style="width: 20%;">Keys</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="help shortcut"><kbd>?</kbd></td>
<td>Open this help</td>
</tr>
<tr>
<td class="next shortcut"><kbd>n</kbd></td>
<td>Next page</td>
</tr>
<tr>
<td class="prev shortcut"><kbd>p</kbd></td>
<td>Previous page</td>
</tr>
<tr>
<td class="search shortcut"><kbd>s</kbd></td>
<td>Search</td>
</tr>
</tbody>
</table>
</div>
<div class="modal-footer">
</div>
</div>
</div>
</div>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.6.1/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>
